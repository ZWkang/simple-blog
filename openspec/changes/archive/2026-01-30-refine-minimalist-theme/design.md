# 设计文档：极简主题

## 背景

博客目前使用 Nextra 的默认主题，自定义程度较低。虽然功能完善，但缺乏一个优先考虑内容可读性和视觉简洁性的连贯设计理念。目标是创建一个极简主题，具备以下特点：

- 强调内容而非装饰
- 为长文阅读提供出色的可读性
- 在浅色和深色模式下保持视觉一致性
- 遵循无障碍最佳实践
- 性能优异（极简 CSS，系统字体）

## 目标 / 非目标

### 目标
- 创建连贯的极简视觉识别
- 提升内容可读性和专注度
- 保持或改善无障碍性（WCAG AA）
- 保持实现简单且易于维护
- 确保出色的深色模式体验

### 非目标
- 完全重新设计 Nextra 主题（在现有框架内工作）
- 自定义字体加载（使用系统字体以优化性能）
- 复杂的动画或过渡效果
- 高度自定义的组件库
- 类似移动应用的交互

## 决策

### 排版
**决策**：使用系统字体栈，优化字号和间距

**理由**：
- 系统字体即时加载（无 FOUT/FOIT）
- 跨平台出色的可读性
- 零性能成本
- 专业外观

**字体栈**：
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
             'Helvetica Neue', Arial, sans-serif;
```

**比例**：
- 正文：16px (1rem)，行高 1.6-1.7
- H1：2.5rem (40px)
- H2：2rem (32px)
- H3：1.5rem (24px)
- 代码：0.9em（略小于正文）

### 色彩方案
**决策**：高对比度的极简调色板

**浅色模式**：
- 背景：#ffffff（纯白）或 #fafafa（柔和灰）
- 文本：#1a1a1a（接近黑色，比纯黑柔和）
- 强调色：#0066cc（链接蓝）
- 边框：#e5e5e5（柔和灰）

**深色模式**：
- 背景：#0a0a0a 或 #1a1a1a（真正的深色）
- 文本：#e5e5e5（浅灰，非纯白）
- 强调色：#4d9fff（深色背景下的浅蓝）
- 边框：#2a2a2a（柔和深灰）

**理由**：
- 高对比度确保可读性
- 极简色彩减少视觉噪音
- 语义化含义（蓝色 = 可交互）
- 符合网页惯例

### 布局
**决策**：居中内容，最佳行长

**规格**：
- 最大内容宽度：680px（阅读最佳宽度）
- 侧边距：移动端最小 24px，桌面端自动居中
- 垂直间距：主要区块间 48px
- 段落间距：段落间 1.5em

**理由**：
- 每行 45-75 字符是阅读最佳长度
- 慷慨的留白提升专注度
- 居中布局感觉平衡

### 组件样式
**决策**：柔和、功能性的样式，无装饰

**原则**：
- 边框：1px 实线，柔和色彩
- 背景：最少使用，需要时用柔和色调
- 阴影：避免或使用非常柔和（仅用于深度）
- 悬停状态：柔和的颜色变化，无戏剧性效果
- 焦点状态：清晰但不分散注意力

**理由**：
- 装饰会分散对内容的注意力
- 功能性样式引导用户注意力
- 柔和的交互感觉专业

### 移除渐变 H1
**决策**：用纯色替换渐变 h1 或移除自定义样式

**理由**：
- 渐变是装饰性的，非功能性
- 与极简主义理念不一致
- 可能降低可读性
- 增加视觉复杂度

**替代方案**：使用略大的字号或柔和的颜色变化来区分 h1

## 考虑的替代方案

### 方案 1：完全保持 Nextra 默认设置
**优点**：零工作量，已经可用
**缺点**：无法实现极简目标，缺乏视觉识别
**决策**：拒绝 - 需要连贯的设计

### 方案 2：完全自定义主题
**优点**：完全控制设计
**缺点**：维护成本高，破坏 Nextra 更新，实现复杂
**决策**：拒绝 - 在 Nextra 框架内工作

### 方案 3：使用 Tailwind 进行所有样式
**优点**：实用优先方法，灵活
**缺点**：增加构建复杂度，CSS 包更大，可能与 Nextra 冲突
**决策**：拒绝 - 使用 CSS 自定义属性和最少覆盖

## 风险 / 权衡

### 风险：破坏 Nextra 主题更新
**缓解措施**：
- 最小化覆盖
- 尽可能使用 CSS 自定义属性
- 记录所有自定义
- Nextra 更新后测试

### 风险：主观设计偏好
**缓解措施**：
- 遵循既定的设计原则（可读性、对比度）
- 使用客观指标（行长、对比度）
- 最终确定前收集反馈

### 风险：深色模式不一致
**缓解措施**：
- 在两种模式下测试所有组件
- 使用语义化颜色标记
- 确保一致的对比度

### 权衡：简洁性 vs. 视觉趣味
**决策**：优先考虑简洁性
**理由**：博客内容本身应该是视觉趣味所在，而非主题

## 迁移计划

### 阶段 1：基础（排版与色彩）
1. 为色彩和排版定义 CSS 自定义属性
2. 用新背景色更新 layout.jsx
3. 在浅色/深色模式下测试

### 阶段 2：布局与间距
1. 实现内容宽度约束
2. 添加间距系统
3. 测试响应式行为

### 阶段 3：组件优化
1. 更新 mdx-components.jsx
2. 优化导航栏和页脚
3. 样式化代码块和提示框

### 阶段 4：打磨与测试
1. 审查所有页面
2. 无障碍测试
3. 跨浏览器测试
4. 收集反馈

### 回滚计划
- 所有更改仅限于 CSS/样式
- 可通过移除自定义样式回滚
- 无数据或功能更改

## 待解决问题

1. 是否保留横幅组件还是为了极简而移除？
   - **建议**：使其可选/可移除，如果保留则样式极简

2. 代码块是否默认显示行号？
   - **建议**：否，仅在需要时添加（保持视觉清爽）

3. 是否为标题添加自定义字体？
   - **建议**：否，系统字体足够且性能好

4. 导航栏应该多极简？
   - **建议**：保留搜索和主题切换，简化视觉样式

5. 是否添加柔和的动画？
   - **建议**：仅用于交互反馈（悬停、焦点），无装饰性动画
